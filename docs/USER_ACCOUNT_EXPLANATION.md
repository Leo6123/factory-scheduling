# Supabase 帳號說明

## ❌ 一般使用者不需要 Supabase 帳號

**重要：** 使用這個排程系統的**一般使用者（生管人員）完全不需要 Supabase 帳號**！

## 👥 誰需要 Supabase 帳號？

### ✅ 需要 Supabase 帳號的人

只有**開發者/系統管理員**需要：

1. **建立 Supabase 專案**（只需一次）
2. **設定環境變數**（部署時）
3. **管理資料庫**（查看、備份、維護）

### ❌ 不需要 Supabase 帳號的人

**所有一般使用者**：
- 生管人員
- 操作人員
- 任何使用排程系統的人

他們只需要：
- 開啟網頁
- 使用排程功能
- **完全不需要知道 Supabase 的存在**

## 🏗️ 系統架構說明

### 目前的設計（共享資料庫）

```
┌─────────────────────────────────────┐
│     Supabase 資料庫（單一專案）      │
│  ┌───────────────────────────────┐  │
│  │  所有使用者共享同一個資料庫    │  │
│  └───────────────────────────────┘  │
└─────────────────────────────────────┘
           ↑              ↑
           │              │
    ┌──────┴──────┐  ┌────┴────┐
    │  使用者 A   │  │ 使用者 B │
    │  (無需帳號) │  │(無需帳號)│
    └────────────┘  └─────────┘
```

### 運作方式

1. **開發者/管理員**：
   - 建立一個 Supabase 專案
   - 設定環境變數（`NEXT_PUBLIC_SUPABASE_URL` 和 `NEXT_PUBLIC_SUPABASE_ANON_KEY`）
   - 所有使用者都連接到這個專案

2. **一般使用者**：
   - 直接開啟網頁使用
   - 所有資料自動儲存到共享資料庫
   - 不需要任何帳號或登入

## 🔐 安全性說明

### 目前的設定

- 使用 **Anon Key**（匿名金鑰）
- 所有使用者可以讀寫所有資料
- 適合**內部使用**或**單一組織使用**

### 如果需要權限管理

如果未來需要：
- 多使用者登入
- 權限控制（誰可以編輯、誰只能查看）
- 資料隔離（不同部門看到不同資料）

可以後續加入 **Supabase Auth**（身份驗證），但這需要額外開發。

## 📋 總結

| 角色 | 需要 Supabase 帳號？ | 說明 |
|------|---------------------|------|
| **開發者/管理員** | ✅ **需要** | 建立專案、設定環境變數、管理資料庫 |
| **一般使用者** | ❌ **不需要** | 直接使用網頁，無需任何帳號 |

## 🚀 部署流程

### 開發者/管理員需要做的事（只需一次）

1. 建立 Supabase 專案
2. 建立資料庫表格（執行 `supabase/schema.sql`）
3. 取得 API 憑證
4. 設定環境變數（`.env.local` 或部署平台）

### 一般使用者需要做的事

**什麼都不需要做！** 直接開啟網頁使用即可。

## 💡 常見問題

### Q: 如果多個使用者同時使用，資料會衝突嗎？

A: Supabase 使用資料庫的並發控制，會自動處理同時寫入的情況。最後寫入的資料會覆蓋之前的資料。

### Q: 可以限制某些使用者只能查看，不能編輯嗎？

A: 目前設計是所有人都可以編輯。如果需要權限控制，需要加入 Supabase Auth 和自訂 RLS 政策。

### Q: 每個使用者會看到其他人的排程嗎？

A: **是的**，目前所有使用者共享同一個資料庫，所有人都可以看到所有排程。這是設計為**團隊協作**的模式。

### Q: 如果不想讓使用者看到 Supabase，可以嗎？

A: **完全可以！** 使用者完全不需要知道 Supabase 的存在。他們只需要使用網頁介面，所有資料庫操作都在背景自動完成。

## 🔄 未來擴展選項

如果需要多使用者/權限管理，可以：

1. **加入 Supabase Auth**：
   - 使用者註冊/登入
   - 每個使用者有自己的帳號

2. **實作 Row Level Security (RLS)**：
   - 根據使用者身份限制資料存取
   - 例如：只能看到自己部門的排程

3. **多租戶架構**：
   - 不同公司/部門使用不同的資料庫
   - 需要更複雜的架構設計

但目前**不需要**這些功能，系統已經可以正常運作！

