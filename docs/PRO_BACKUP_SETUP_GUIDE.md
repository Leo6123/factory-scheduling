# Pro 方案自動備份設定指南

## ✅ 確認：Pro 方案自動備份已啟用

從你的截圖可以看到，**Pro 方案的自動備份已經自動啟用**！

### 證據
- ✅ 已經有備份列表顯示（10 Jan, 09 Jan, 08 Jan...）
- ✅ 每個備份都有 "Restore" 和 "Download" 按鈕
- ✅ 備份類型顯示為 "LOGICAL"
- ✅ 備份時間約在每天 20:00-21:00（UTC+0）

---

## 🔍 如何確認自動備份狀態

### 步驟 1：查看備份列表

1. **登入 Supabase Dashboard**
   - 前往 https://supabase.com/dashboard
   - 選擇你的專案（E-scheduling）

2. **前往 Backups 頁面**
   - 左側選單：**Database** → **Backups**
   - 或直接點擊左側選單的 **"Backups"**

3. **查看 "Scheduled backups" 標籤**
   - 應該會看到每日備份列表
   - 每個備份顯示日期、時間、類型

### 步驟 2：確認備份頻率

**Pro 方案自動備份設定**：
- ✅ **備份頻率**：每日一次（自動）
- ✅ **備份時間**：約每天午夜（根據專案區域時區）
- ✅ **保留期間**：7 天
- ✅ **備份類型**：LOGICAL（邏輯備份）

---

## 📋 備份功能說明

### 1. 查看備份列表

在 "Scheduled backups" 標籤中，你可以看到：
- **日期和時間**：備份的日期和時間
- **類型**：LOGICAL（邏輯備份）
- **操作**：
  - **Restore**：還原備份
  - **Download**：下載備份檔案

### 2. 下載備份

**步驟**：
1. 在備份列表中，找到要下載的備份
2. 點擊 **"Download"** 按鈕
3. 備份檔案會下載為 SQL 格式（`.sql`）
4. 保存到本地硬碟或雲端

**用途**：
- ✅ 長期保留備份（超過 7 天）
- ✅ 本地備份副本
- ✅ 資料遷移

### 3. 還原備份

**步驟**：
1. 在備份列表中，找到要還原的備份
2. 點擊 **"Restore"** 按鈕
3. 確認還原操作（會覆蓋當前資料）
4. 等待還原完成

**注意事項**：
- ⚠️ 還原會覆蓋當前資料庫中的所有資料
- ⚠️ 還原前建議先下載當前備份（以防萬一）
- ⚠️ 還原過程可能需要幾分鐘到幾小時（依資料量而定）

---

## ⚙️ 備份設定（Pro 方案）

### 自動備份設定

**Pro 方案的自動備份是預設啟用的**，無法手動關閉或修改：

- ✅ **備份頻率**：每日一次（固定）
- ✅ **備份時間**：約每天午夜（根據專案區域時區，無法修改）
- ✅ **保留期間**：7 天（固定）
- ✅ **備份類型**：LOGICAL（邏輯備份，包含所有資料和結構）

### 無法設定的項目

- ❌ 備份時間（由 Supabase 自動決定）
- ❌ 備份頻率（固定每日一次）
- ❌ 保留期間（固定 7 天）

### 可以做的操作

- ✅ 查看備份列表
- ✅ 下載備份檔案
- ✅ 還原備份
- ✅ 手動觸發備份（如果需要）

---

## 🔧 如何使用備份

### 情境 1：下載備份長期保留

**步驟**：
1. 前往 Backups 頁面
2. 找到要下載的備份（建議下載最新的）
3. 點擊 **"Download"** 按鈕
4. 保存到本地硬碟或雲端（例如：Google Drive、Dropbox）

**建議頻率**：
- 每週下載一次（長期保留）
- 重要操作前下載（額外保險）

### 情境 2：還原到特定時間點

**步驟**：
1. 前往 Backups 頁面
2. 找到要還原的備份（例如：3 天前的備份）
3. 點擊 **"Restore"** 按鈕
4. 確認還原操作
5. 等待還原完成
6. 重新整理 Web APP 查看資料

**注意事項**：
- ⚠️ 還原會覆蓋當前所有資料
- ⚠️ 還原前建議先下載當前備份

### 情境 3：還原到新專案

**步驟**：
1. 前往 Backups 頁面
2. 點擊 **"Restore to new project"** 標籤
3. 選擇要還原的備份
4. 輸入新專案名稱
5. 確認還原操作

**用途**：
- ✅ 建立測試環境
- ✅ 資料遷移
- ✅ 建立備份環境

---

## 📊 備份時間說明

### 備份時間

從你的備份列表可以看到：
- 10 Jan 2026 20:34:19
- 09 Jan 2026 20:47:04
- 08 Jan 2026 20:39:09

**備份時間約在每天 20:00-21:00（UTC+0）**

這表示：
- 備份是自動執行的
- 備份時間由 Supabase 自動決定（無法修改）
- 備份時間可能略有變化（幾分鐘內）

### 時區說明

- **UTC+0**：協調世界時（UTC）
- 如果專案區域是台灣（UTC+8），備份時間約為：
  - UTC 20:00 = 台灣時間 04:00（隔天凌晨）

---

## ⚠️ 重要提醒

### 1. 備份限制

**Storage API 物件不包含在備份中**：
- ⚠️ 資料庫備份只包含資料庫資料
- ⚠️ 不包含 Storage API 儲存的檔案（例如：上傳的圖片、文件）
- ⚠️ 如果還原舊備份，已刪除的 Storage 物件不會恢復

### 2. 備份保留期間

- ✅ **保留 7 天**：最近的 7 個備份會被保留
- ❌ **超過 7 天**：舊備份會自動刪除，無法恢復

**建議**：
- 定期下載備份檔案長期保留
- 重要操作前下載備份

### 3. 還原注意事項

- ⚠️ 還原會覆蓋當前所有資料
- ⚠️ 還原前建議先下載當前備份
- ⚠️ 還原過程可能需要時間（依資料量而定）

---

## 🎯 最佳實踐

### 1. 定期下載備份

**建議頻率**：
- 每週下載一次最新備份
- 重要操作前下載備份

**保存位置**：
- 本地硬碟
- 雲端儲存（Google Drive、Dropbox、OneDrive）

### 2. 建立備份檔案命名規則

**建議格式**：
```
backup_YYYYMMDD_HHMMSS.sql
```

**範例**：
- `backup_20260110_203419.sql` - 2026年1月10日 20:34:19 的備份

### 3. 多重備份策略

```
自動備份（Supabase，7天） + 手動下載（長期保留）
```

- ✅ Supabase 自動備份：7 天內快速恢復
- ✅ 手動下載備份：長期保留（每月或每季）

---

## 📋 檢查清單

- [x] ✅ Pro 方案已升級
- [x] ✅ 自動備份已啟用（已看到備份列表）
- [ ] 了解如何下載備份
- [ ] 了解如何還原備份
- [ ] 建立定期下載備份的習慣
- [ ] 將備份檔案保存到雲端

---

## 🔗 相關操作

### 下載備份

1. 前往 Backups 頁面
2. 找到要下載的備份
3. 點擊 **"Download"** 按鈕
4. 保存到本地或雲端

### 還原備份

1. 前往 Backups 頁面
2. 找到要還原的備份
3. 點擊 **"Restore"** 按鈕
4. 確認還原操作
5. 等待還原完成
6. 重新整理 Web APP

### 還原到新專案

1. 前往 Backups 頁面
2. 點擊 **"Restore to new project"** 標籤
3. 選擇要還原的備份
4. 輸入新專案名稱
5. 確認還原操作

---

## 📝 總結

### ✅ 確認狀態

**Pro 方案自動備份已經啟用**：
- ✅ 每日自動備份
- ✅ 保留 7 天
- ✅ 可以下載和還原

### 🎯 建議行動

1. **定期下載備份**（每週一次）
2. **重要操作前下載備份**（額外保險）
3. **將備份保存到雲端**（長期保留）
4. **了解還原流程**（以防萬一）

### ⚠️ 注意事項

- 備份時間由 Supabase 自動決定（無法修改）
- 備份只包含資料庫資料（不包含 Storage 檔案）
- 還原會覆蓋當前所有資料

---

## 🔗 相關文件

- `docs/SUPABASE_BACKUP_GUIDE.md` - 完整備份指南
- `docs/RESTORE_BACKUP_GUIDE.md` - 還原指南
- `docs/BACKUP_FILE_FORMAT.md` - 備份檔案格式說明
